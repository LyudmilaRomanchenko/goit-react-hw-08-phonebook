{"version":3,"sources":["redux/auth/auth-operations.js","redux/auth/auth-selector.js","redux/auth/auth-slice.js","components/Navigation/Navigation.js","components/AuthNav/AuthNav.js","components/UserMemu/UserMemu.js","components/AppBar/AppBar.js","components/Spinner/Spinner.js","components/PrivateRoute.js","components/PublicRoute.js","components/App.js","redux/contacts/contacts-reducer.js","redux/store.js","index.js","redux/contacts/contacts-actions.js","components/Navigation/Navigation.module.css","components/AuthNav/AuthNav.module.css","components/UserMemu/UserMemu.module.css","styles/styles.js","components/Spinner/Spinner.module.css"],"names":["notify","message","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","console","log","Promise","reject","Error","logIn","logOut","fetchCurrentUser","_","thunkAPI","state","getState","persistedToken","auth","rejectWithValue","get","operations","authSelectors","getIsLoggedIn","isLoggedIn","getUserEmail","user","email","getIsFetchingCurrent","isFetchingCurrentUser","authSlice","createSlice","name","initialState","extraReducers","authOperations","fulfilled","payload","pending","action","rejected","Navigation","useSelector","to","className","isActive","s","activeLink","link","AuthNav","UserMemu","dispatch","useDispatch","Button","type","variant","size","sx","styles","buttonLogOut","onClick","Appbar","AppBar","bgcolor","paddingLeft","Toolbar","Typography","component","display","Spinner","Loader","color","height","width","timeout","PrivateRoute","PublicRoute","restricted","redirectTo","shouldRedirect","prototype","PropTypes","bool","isRequired","string","checkPropTypes","HomePage","lazy","RegisterForm","LoginForm","Contacts","App","useEffect","fallback","path","element","newestOnTop","rtl","pauseOnFocusLoss","items","createReducer","fetchContactsSuccsess","addContactsSuccsess","deleteContactsSuccsess","filter","contact","id","changeFilter","combineReducers","authReducer","contacts","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","store","next","logger","authPersistConfig","key","storage","whitelist","configureStore","reducer","persistReducer","devTools","process","persistor","persistStore","ReactDOM","render","loading","StrictMode","document","getElementById","addContactsRequest","createAction","addContactsError","deleteContactsRequest","deleteContactsError","fetchContactsRequest","fetchContactsError","module","exports","input","margin","buttonStyles","fontSize","buttonDelete"],"mappings":"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","file":"static/js/main.ce73d785.chunk.js","sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nconst notify = (message) =>\n  toast(message, {\n    position: \"top-right\",\n    autoClose: 3000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n  });\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nconst register = createAsyncThunk(\"auth/register\", async (credentials) => {\n  try {\n    const { data } = await axios.post(\n      \"/users/signup\",\n\n      credentials\n    );\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    console.log(error);\n    notify(\"Maybe this email is taken!\");\n    return Promise.reject(new Error());\n  }\n});\n\nconst logIn = createAsyncThunk(\"auth/login\", async (credentials) => {\n  try {\n    const { data } = await axios.post(\"/users/login\", credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    console.log(error);\n    notify(\"Email or password is not correct!\");\n    return Promise.reject(new Error());\n  }\n});\n\nconst logOut = createAsyncThunk(\"auth/logout\", async () => {\n  try {\n    await axios.post(\"/users/logout\");\n\n    token.unset();\n  } catch (error) {\n    console.log(error);\n    return Promise.reject(new Error());\n  }\n});\n\nconst fetchCurrentUser = createAsyncThunk(\n  \"auth/refresh\",\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n    console.log(persistedToken);\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n\n    try {\n      const { data } = await axios.get(\"/users/current\");\n      return data;\n    } catch (error) {\n      console.log(error);\n      return Promise.reject(new Error());\n    }\n  }\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n};\nexport default operations;\n","const getIsLoggedIn = (state) => state.auth.isLoggedIn;\r\nconst getUserEmail = (state) => state.auth.user.email;\r\nconst getIsFetchingCurrent = (state) => state.auth.isFetchingCurrentUser;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUserEmail,\r\n  getIsFetchingCurrent,\r\n};\r\n\r\nexport default authSelectors;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport authOperations from \"./auth-operations\";\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrentUser: false,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logIn.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logOut.fulfilled](state, { payload }) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isFetchingCurrentUser = true;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isFetchingCurrentUser = false;\n    },\n    [authOperations.fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrentUser = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","/* eslint-disable no-lone-blocks */\nimport { useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./Navigation.module.css\";\nimport { authSelectors } from \"../../redux/auth\";\n\nfunction Navigation() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  console.log(isLoggedIn);\n  // const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\n\n  return (\n    // !isFetchingCurrentUser && (\n    <nav>\n      <NavLink\n        to=\"/\"\n        className={({ isActive }) => (isActive ? s.activeLink : s.link)}\n      >\n        Home\n      </NavLink>\n\n      {isLoggedIn && (\n        <NavLink\n          to=\"/contacts\"\n          className={({ isActive }) => (isActive ? s.activeLink : s.link)}\n        >\n          Contacts\n        </NavLink>\n      )}\n    </nav>\n    // )\n  );\n}\n\nexport default Navigation;\n","import { useSelector } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./AuthNav.module.css\";\r\nimport { authSelectors } from \"../../redux/auth\";\r\n\r\nfunction AuthNav() {\r\n  return (\r\n    <nav>\r\n      <NavLink\r\n        to=\"/register\"\r\n        className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n      >\r\n        Register\r\n      </NavLink>\r\n\r\n      <NavLink\r\n        to=\"/login\"\r\n        className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default AuthNav;\r\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport s from \"./UserMemu.module.css\";\r\nimport { authSelectors, authOperations } from \"../../redux/auth\";\r\nimport Button from \"@mui/material/Button\";\r\nimport styles from \"../../styles/styles\";\r\n\r\nfunction UserMemu() {\r\n  const email = useSelector(authSelectors.getUserEmail);\r\n  console.log(email);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <nav className={s.user}>\r\n      <span>\r\n        Welcom, <span className={s.email}>{email}</span>\r\n      </span>\r\n\r\n      <Button\r\n        // classes={classes}\r\n        type=\"button\"\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n        sx={styles.buttonLogOut}\r\n        onClick={() => dispatch(authOperations.logOut())}\r\n      >\r\n        Log out\r\n      </Button>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default UserMemu;\r\n","import { useSelector } from \"react-redux\";\nimport Navigation from \"../Navigation\";\n// import styles from \"./AppBar.module.css\";\nimport AuthNav from \"../AuthNav\";\nimport UserMemu from \"../UserMemu\";\nimport { authSelectors } from \"../../redux/auth\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\n\nexport default function Appbar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\n\n  console.log(isLoggedIn);\n  console.log(!isFetchingCurrentUser);\n  return (\n    <AppBar position=\"static\" sx={{ bgcolor: \"#ebeded\", paddingLeft: \"100px\" }}>\n      <Toolbar>\n        <Typography variant=\"h8\" component=\"div\" sx={{ display: \"flex\" }}>\n          <Navigation />\n          {isLoggedIn || isFetchingCurrentUser ? <UserMemu /> : <AuthNav />}\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React from \"react\";\r\nimport s from \"./Spinner.module.css\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nfunction Spinner() {\r\n  return (\r\n    <Loader\r\n      className={s.Loader}\r\n      type=\"ThreeDots\"\r\n      color=\"#009688\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","import { useSelector } from \"react-redux\";\r\nimport { Navigate, Outlet } from \"react-router-dom\";\r\nimport { authSelectors } from \"../redux/auth\";\r\n\r\n// console.log(Redirect);\r\n\r\n// function PrivateRoute({ redirectTo = \"/login\" }) {\r\nfunction PrivateRoute() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  // return isLoggedIn ? <Outlet /> : <Navigate to={redirectTo} />;\r\n  return isLoggedIn ? <Outlet /> : <Navigate to=\"/login\" />;\r\n}\r\n\r\nexport default PrivateRoute;\r\n","/* eslint-disable no-lone-blocks */\r\nimport PropTypes from \"prop-types\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Navigate, Outlet } from \"react-router-dom\";\r\nimport { authSelectors } from \"../redux/auth\";\r\n\r\nfunction PublicRoute({ restricted = false, redirectTo = \"/\" }) {\r\n  console.log(redirectTo);\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  // const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\r\n\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  // const shouldRedirect = isLoggedIn && restricted && !isFetchingCurrentUser;\r\n\r\n  console.log(shouldRedirect);\r\n\r\n  return !shouldRedirect ? <Outlet /> : <Navigate to={redirectTo} />;\r\n}\r\n\r\nexport default PublicRoute;\r\n\r\nPublicRoute.prototype = {\r\n  restricted: PropTypes.bool.isRequired,\r\n  redirectTo: PropTypes.string.isRequired,\r\n};\r\n\r\nPropTypes.checkPropTypes(PublicRoute);\r\n","import { lazy, Suspense, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Routes, Route } from \"react-router-dom\";\nimport AppBar from \"./AppBar\";\nimport Spinner from \"./Spinner\";\nimport { authOperations, authSelectors } from \"../redux/auth\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport PublicRoute from \"./PublicRoute\";\nimport { ToastContainer } from \"react-toastify\";\n\n// Добавляет ленивую загрузку\nconst HomePage = lazy(() => import(\"../views/HomePage\"));\nconst RegisterForm = lazy(() => import(\"../views/RegisterForm\"));\nconst LoginForm = lazy(() => import(\"../views/LoginForm\"));\nconst Contacts = lazy(() => import(\"../views/Сontacts\"));\n\nconsole.log(PrivateRoute);\n\nfunction App() {\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\n  console.log(isFetchingCurrentUser);\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n  return (\n    // !isFetchingCurrentUser && (\n    <div>\n      {isFetchingCurrentUser ? (\n        <Spinner />\n      ) : (\n        <>\n          <AppBar />\n          <Suspense fallback={<Spinner />}>\n            {/* <AppBar /> */}\n            <Routes>\n              <Route path=\"/\" element={<PublicRoute />}>\n                <Route path=\"/\" element={<HomePage />} />\n              </Route>\n              <Route\n                path=\"/register\"\n                element={<PublicRoute redirectTo=\"/contacts\" restricted />}\n              >\n                <Route path=\"/register\" element={<RegisterForm />} />\n              </Route>\n              <Route\n                path=\"/login\"\n                element={<PublicRoute redirectTo=\"/contacts\" restricted />}\n              >\n                <Route path=\"/login\" element={<LoginForm />} />\n              </Route>\n\n              <Route\n                path=\"/contacts\"\n                element={<PrivateRoute redirectTo=\"/contacts\" />}\n              >\n                <Route path=\"/contacts\" element={<Contacts />} />\n              </Route>\n            </Routes>\n          </Suspense>\n          <ToastContainer\n            position=\"top-right\"\n            autoClose={3000}\n            hideProgressBar={false}\n            newestOnTop={false}\n            closeOnClick\n            rtl={false}\n            pauseOnFocusLoss\n            draggable\n            pauseOnHover\n          />\n        </>\n      )}\n    </div>\n    // )\n  );\n}\n\nexport default App;\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { combineReducers } from \"redux\";\nimport {\n  addContactsSuccsess,\n  deleteContactsSuccsess,\n  fetchContactsSuccsess,\n  changeFilter,\n} from \"./contacts-actions\";\n\nconst items = createReducer([], {\n  [fetchContactsSuccsess]: (state, { payload }) => payload,\n  [addContactsSuccsess]: (state, { payload }) => [...state, payload],\n  [deleteContactsSuccsess]: (state, { payload }) =>\n    state.filter((contact) => contact.id !== payload),\n});\n\nconst filter = createReducer(\"\", {\n  [changeFilter]: (state, { payload }) => payload,\n});\n\nconst initialState = combineReducers({\n  items,\n  filter,\n});\n\nexport default initialState;\n","/* eslint-disable import/no-anonymous-default-export */\n// import { createStore, combineReducers } from \"redux\";\nimport { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport logger from \"redux-logger\";\nimport contacts from \"./contacts/contacts-reducer\";\nimport { authReducer } from \"./auth\";\n\nconsole.log(authReducer);\nconsole.log(contacts);\n\nconst myMiddleWare = (store) => (next) => (action) => {\n  console.log(\"Моя прослойка\", action);\n\n  next(action);\n};\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  myMiddleWare,\n  logger,\n];\n\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contacts,\n  },\n  middleware,\n  // указываем, что devtools нужны только при разработке\n  devTools: process.env.NODE_ENV === \"development\",\n});\n\nconsole.log(store.getState());\n\nexport const persistor = persistStore(store);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { store, persistor } from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <BrowserRouter>\n        <React.StrictMode>\n          <App />\n        </React.StrictMode>\n      </BrowserRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","/* eslint-disable import/no-anonymous-default-export */\nimport { createAction } from \"@reduxjs/toolkit\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport const addContactsRequest = createAction(\"contacts/addContactsRequest\");\nexport const addContactsSuccsess = createAction(\"contacts/addContactsSuccsess\");\nexport const addContactsError = createAction(\"contacts/addContactsError\");\n\nexport const deleteContactsRequest = createAction(\n  \"contacts/deleteContactsRequest\"\n);\nexport const deleteContactsSuccsess = createAction(\n  \"contacts/deleteContactsSuccsess\"\n);\nexport const deleteContactsError = createAction(\"contacts/deleteContactsError\");\n\nexport const fetchContactsRequest = createAction(\n  \"contacts/fetchContactsRequest\"\n);\nexport const fetchContactsSuccsess = createAction(\n  \"contacts/fetchContactsSuccsess\"\n);\nexport const fetchContactsError = createAction(\"contacts/fetchContactsError\");\n\nexport const changeFilter = createAction(\"contacts/changeFilter\");\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__38Ijn\",\"activeLink\":\"Navigation_activeLink__1EqSR\",\"nav\":\"Navigation_nav__2zavO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__26gTA\",\"activeLink\":\"AuthNav_activeLink__3313X\",\"nav\":\"AuthNav_nav__2Tz18\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"UserMemu_user__1eQkx\",\"email\":\"UserMemu_email__2e-pL\",\"button\":\"UserMemu_button__1ehV6\"};","const input = {\r\n  margin: \"30px 0\",\r\n  display: \"block\",\r\n};\r\n\r\nconst buttonStyles = {\r\n  margin: \"30px 0\",\r\n  display: \"block\",\r\n  bgcolor: \"#009688\",\r\n  \":hover\": {\r\n    bgcolor: \"#036b69\",\r\n  },\r\n  \":focus\": {\r\n    bgcolor: \"#036b69\",\r\n  },\r\n};\r\n\r\nconst buttonLogOut = {\r\n  height: \"25px\",\r\n  fontSize: 11,\r\n  margin: \"0 20px\",\r\n  bgcolor: \"#009688\",\r\n  \":hover\": {\r\n    bgcolor: \"#036b69\",\r\n  },\r\n  \":focus\": {\r\n    bgcolor: \"#036b69\",\r\n  },\r\n};\r\n\r\nconst buttonDelete = {\r\n  bgcolor: \"#009688\",\r\n  \":hover\": {\r\n    bgcolor: \"#036b69\",\r\n  },\r\n  \":focus\": {\r\n    bgcolor: \"#036b69\",\r\n  },\r\n};\r\n\r\nconst styles = {\r\n  input,\r\n  buttonStyles,\r\n  buttonLogOut,\r\n  buttonDelete,\r\n};\r\n\r\nexport default styles;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spinner_Loader__LH2Hy\"};"],"sourceRoot":""}